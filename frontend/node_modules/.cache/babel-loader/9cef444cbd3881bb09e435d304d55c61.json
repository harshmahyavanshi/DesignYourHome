{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91762\\\\Desktop\\\\virtual designing\\\\virtualreality\\\\src\\\\signin.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './Form.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst useForm = (callback, validate) => {\n  _s();\n\n  const [values, setValues] = useState({\n    username: '',\n    email: '',\n    password: '',\n    password2: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // alert(\"submitting\")\n\n    const registered = {\n      email: values.username,\n      password: values.password\n    }; //  alert(registered.username)\n\n    axios.post('http://localhost:4000/app/signin', registered).then(response => {\n      alert(response.data.StatusMessage);\n      window.location.href = \"/\";\n    });\n    setErrors(validate(values));\n    setIsSubmitting(true);\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isSubmitting) {\n      callback();\n    }\n  }, [errors]);\n  return {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  };\n};\n\n_s(useForm, \"DtcaFp6/wi6XQW/reC6JxB37rjA=\");\n\nconst FormSignup = ({\n  submitForm\n}) => {\n  _s2();\n\n  const {\n    handleChange,\n    handleSubmit,\n    values,\n    errors\n  } = useForm(submitForm, validateInfo);\n\n  function validateInfo(values) {\n    let errors = {};\n\n    if (!values.username.trim()) {\n      errors.username = 'Username required';\n    } // else if (!/^[A-Za-z]+/.test(values.name.trim())) {\n    //   errors.name = 'Enter a valid name';\n    // }\n\n\n    if (!values.email) {\n      errors.email = 'Email required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(values.email)) {\n      errors.email = 'Email address is invalid';\n    }\n\n    if (!values.password) {\n      errors.password = 'Password is required';\n    } else if (values.password.length < 6) {\n      errors.password = 'Password needs to be 6 characters or more';\n    }\n\n    if (!values.password2) {\n      errors.password2 = 'Password is required';\n    } else if (values.password2 !== values.password) {\n      errors.password2 = 'Passwords do not match';\n    }\n\n    return errors;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-content-right\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form\",\n      noValidate: true,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Login In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-input\",\n          type: \"text\",\n          name: \"username\",\n          placeholder: \"Enter your username\",\n          value: values.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), errors.username && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"form-label\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"form-input\",\n          type: \"password\",\n          name: \"password\",\n          placeholder: \"Enter your password\",\n          value: values.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), errors.password && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: errors.password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"form-input-btn\",\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"form-input-login\",\n        children: [\"Don't have an account? SignUp \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/signup\",\n          children: \"here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(FormSignup, \"hfzUufwwwvXoLzjGfbRlQGoVaAU=\", false, function () {\n  return [useForm];\n});\n\n_c = FormSignup;\nexport default FormSignup;\n\nvar _c;\n\n$RefreshReg$(_c, \"FormSignup\");","map":{"version":3,"sources":["C:/Users/91762/Desktop/virtual designing/virtualreality/src/signin.js"],"names":["React","useState","useEffect","axios","useForm","callback","validate","values","setValues","username","email","password","password2","errors","setErrors","isSubmitting","setIsSubmitting","handleChange","e","name","value","target","handleSubmit","preventDefault","registered","post","then","response","alert","data","StatusMessage","window","location","href","Object","keys","length","FormSignup","submitForm","validateInfo","trim","test"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport './Form.css';\r\n\r\nconst useForm = (callback, validate) => {\r\n                const [values, setValues] = useState({\r\n                username: '',\r\n                email: '',\r\n                password: '',\r\n                password2: ''\r\n                });\r\n                const [errors, setErrors] = useState({});\r\n                const [isSubmitting, setIsSubmitting] = useState(false);\r\n            \r\n                const handleChange = e => {\r\n                const { name, value } = e.target;\r\n                setValues({\r\n                    ...values,\r\n                    [name]: value\r\n                });\r\n    };\r\n\r\n    \r\n\r\n    const handleSubmit = e => {\r\n                    e.preventDefault();\r\n                \r\n                    // alert(\"submitting\")\r\n                \r\n                    const registered = {\r\n                       \r\n                        email: values.username,                   \r\n                        password: values.password, \r\n                      \r\n                    \r\n                    }\r\n                    \r\n                //  alert(registered.username)\r\n                    axios.post('http://localhost:4000/app/signin', registered)\r\n                    .then(response =>  {alert(response.data.StatusMessage)\r\n                      window.location.href = \"/\"\r\n                    })\r\n                \r\n                    setErrors(validate(values));\r\n                    setIsSubmitting(true);\r\n                    };\r\n                \r\n                    useEffect(\r\n                    () => {\r\n                        if (Object.keys(errors).length === 0 && isSubmitting) {\r\n                        \r\n                        callback();\r\n                        }\r\n                    },\r\n                    [errors]\r\n                    );\r\n                \r\n                   return { handleChange, handleSubmit, values, errors };\r\n  };\r\n  \r\n\r\nconst FormSignup = ({ submitForm }) => {\r\n  const { handleChange, handleSubmit, values, errors } = useForm(\r\n    submitForm,\r\n    validateInfo\r\n  );\r\n\r\n  function validateInfo(values) {\r\n    let errors = {};\r\n  \r\n    if (!values.username.trim()) {\r\n      errors.username = 'Username required';\r\n    }\r\n    // else if (!/^[A-Za-z]+/.test(values.name.trim())) {\r\n    //   errors.name = 'Enter a valid name';\r\n    // }\r\n  \r\n    if (!values.email) {\r\n      errors.email = 'Email required';\r\n    } else if (!/\\S+@\\S+\\.\\S+/.test(values.email)) {\r\n      errors.email = 'Email address is invalid';\r\n    }\r\n    if (!values.password) {\r\n      errors.password = 'Password is required';\r\n    } else if (values.password.length < 6) {\r\n      errors.password = 'Password needs to be 6 characters or more';\r\n    }\r\n  \r\n    if (!values.password2) {\r\n      errors.password2 = 'Password is required';\r\n    } else if (values.password2 !== values.password) {\r\n      errors.password2 = 'Passwords do not match';\r\n    }\r\n    return errors;\r\n  }\r\n  \r\n\r\n  return (\r\n    <div className='form-content-right'>\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <h1>\r\n          Login In\r\n        </h1>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Username</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='username'\r\n            placeholder='Enter your username'\r\n            value={values.username}\r\n            onChange={handleChange}\r\n          />\r\n          {errors.username && <p>{errors.username}</p>}\r\n        </div>\r\n\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Password</label>\r\n          <input\r\n            className='form-input'\r\n            type='password'\r\n            name='password'\r\n            placeholder='Enter your password'\r\n            value={values.password}\r\n            onChange={handleChange}\r\n          />\r\n          {errors.password && <p>{errors.password}</p>}\r\n        </div>\r\n        \r\n        <button className='form-input-btn' type='submit'>\r\n            Login\r\n        </button>\r\n        <span className='form-input-login'>\r\n      { /* eslint-disable-next-line */ }\r\n          Don't have an account? SignUp <a href=\"/signup\">here</a>  \r\n        </span>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormSignup;"]},"metadata":{},"sourceType":"module"}